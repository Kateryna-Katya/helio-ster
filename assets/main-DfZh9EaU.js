(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function l(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(n){if(n.ep)return;n.ep=!0;const r=l(n);fetch(n.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const i={captchaResult:0,isMenuOpen:!1},d=document.body,l=document.getElementById("nav-menu"),c=document.getElementById("burger-menu"),n=document.getElementById("ai-contact-form"),r=document.getElementById("user-phone"),a=document.getElementById("cookie-popup");if(c&&l){const t=e=>{i.isMenuOpen=e,c.classList.toggle("open",e),l.classList.toggle("active",e),d.style.overflow=e?"hidden":""};c.addEventListener("click",e=>{e.stopPropagation(),t(!i.isMenuOpen)}),l.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>t(!1))}),document.addEventListener("click",e=>{i.isMenuOpen&&!l.contains(e.target)&&!c.contains(e.target)&&t(!1)})}r&&r.addEventListener("input",t=>{t.target.value=t.target.value.replace(/[^0-9]/g,"")});function u(){const t=document.getElementById("captcha-question"),e=document.getElementById("captcha-answer");if(t){const s=Math.floor(Math.random()*10)+1,o=Math.floor(Math.random()*10)+1;i.captchaResult=s+o,t.innerText=`${s} + ${o}`,e&&(e.value="")}}if(u(),n){let t=function(e,s){const o=document.getElementById("form-message");o.innerText=e,o.className=`form__message ${s}`,o.style.display="block",setTimeout(()=>{o.style.display="none"},6e3)};var h=t;n.addEventListener("submit",async e=>{e.preventDefault();const s=document.getElementById("captcha-answer");document.getElementById("form-message");const o=document.getElementById("submit-btn");if(parseInt(s.value,10)!==i.captchaResult){t("Ошибка: Неверный ответ капчи. Попробуйте снова.","error"),u();return}o.disabled=!0;const g=o.innerHTML;o.innerText="Отправка данных...";try{await new Promise(f=>setTimeout(f,1500)),t("Успех! Мы получили ваш запрос и свяжемся с вами.","success"),n.reset(),u()}catch{t("Произошла ошибка при отправке. Попробуйте позже.","error")}finally{o.disabled=!1,o.innerHTML=g}})}if(a){const t=localStorage.getItem("helio_cookies_accepted"),e=document.getElementById("cookie-accept");t||setTimeout(()=>{a.classList.add("show")},3e3),e.addEventListener("click",()=>{localStorage.setItem("helio_cookies_accepted","true"),a.classList.remove("show")})}document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const s=this.getAttribute("href");if(s==="#")return;const o=document.querySelector(s);o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});const p={threshold:.15,rootMargin:"0px 0px -50px 0px"},m=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),m.unobserve(e.target))})},p);document.querySelectorAll(".reveal").forEach(t=>m.observe(t))});
//# sourceMappingURL=main-DfZh9EaU.js.map
